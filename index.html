<!DOCTYPE html>
<html>
<head>
    <title>Mi Proyecto Final de el BOM y el DOM</title>
</head>
<body>
<form >
<div>

<h1 id="titulo">Registro de Estudiante</h1>
Codigo: <input type="text" id="codigo"/><br>
Nombre: <input type="text" id="nombre"/><br>
Curso: <input type="text" id="curso" /><br>
Nota: <input type="text" id="nota"/><br>

</div>
</form>
	<table id="estudiantes" border="1">	
	</table>
	
    <button id="btn1"> Registrar Estudiante</button>
    <button class="btn">Mostrar Promedio</button> 
    <button class="btn">Mostrar Nota Mayor</button>
    <button class="btn">Mostrar Nota Menor</button>

</body>
<script>

function Estudiante(codigo, nombre, curso, nota) {

		    this.codigo = codigo;
		    this.nombre = nombre;
		    this.curso = curso;
		    this.nota = nota;
			}

var estudiantes=[];
document.getElementById("btn1").addEventListener("click", function() {
			//JSON.stringify(this.sitiosGuardados)
			
			var codigo = document.getElementById("codigo").value;
			var nombre = document.getElementById("nombre").value;
			var curso = document.getElementById("curso").value;
			var nota = document.getElementById("nota").value;
		
			estudiantes.push(new Estudiante(codigo,nombre,curso,nota));
		//	alert(JSON.stringify(estudiantes));
			leerJSON(estudiantes);
			});
function leerJSON(json) {
    var out = "Estudiantes <tr><th>Codigo</th><th>Nombre Completo</th><th>Nota</th></tr>";
    var i;
    for (i = 0; i < json.length; i++) {
        out += "<tr><td>" + json[i].codigo + "</td><td>" + json[i].nombre + "</td><td>" + json[i].nota +"</td></tr>";
    }
    document.getElementById("estudiantes").innerHTML = out;
}			

function crearElemento() {

        var encabezado = document.createElement("h4");
        var texto = document.createTextNode("Alumno Registrado");
        encabezado.appendChild(texto);
        document.body.appendChild(encabezado);

    }

function calcularPromedio(json) {

    var out = "-----------Nota Promedio-----------<br>";
    var totalNotas = 0.0;
    for (i = 0; i < json.length; i++) {
        totalNotas += json[i].nota;
    }
    alert(out + "El promedio de Notas es : " + totalNotas/json.length);
}

function calcularMayorNota(json) {
    var out = "-----------Estudiante con Mayor Nota-----------<br>";
	var estudiante="";
    var max = 0.0;
    for (i = 0; i < json.length; i++) {
		 if(max < json[i].nota){
			max = json[i].nota;
			estudiante = "Codigo: " + json[i].codigo + " - Nombre: " + json[i].nombre + " - Nota: " + max;
		}       
    }
    alert(out + estudiante);
}
function calcularMenorNota(json) {
    var out = "-----------Estudiante con Menor Nota-----------<br>";
	var estudiante="";
    var min = json[0].nota;
    for (i = 1; i < json.length; i++) {
		 if(min > json[i].nota){
			min = json[i].nota;
			estudiante = "Codigo: " + json[i].codigo + " - Nombre: " + json[i].nombre + " - Nota: " + min;
		}        
    }
    alert(out + estudiante);
}

</script>

</html>
